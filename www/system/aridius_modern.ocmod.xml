<?xml version="1.0" encoding="utf-8"?>
<modification>
  <name>modern</name>
  <code>modern</code>
  <version>v_1</version>
  <author>mrz</author>
<file path="admin/controller/catalog/product.php">
<!-- stickers -->
<operation>
      <search><![CDATA[
					$this->load->model('design/layout');
      ]]></search>
      <add position="before"><![CDATA[
					if (isset($this->request->post['mpn'])) {
						$data['stickers'] = $this->request->post['mpn'];
					} elseif (!empty($product_info)) {
						$data['stickers'] = $product_info['mpn'];
					} else {
						$data['stickers'] = 0;
					}
      ]]></add>
</operation>
</file>
<file path="admin/model/catalog/product.php">
<!-- stickers add popupsize -->
<operation>
      <search><![CDATA[
					  $this->db->query("UPDATE " . DB_PREFIX . "product SET model = '" . $this->db->escape($data['model']) . "', sku = '" . $this->db->escape($data['sku']) . "', upc = '" . $this->db->escape($data['upc']) . "', ean = '" . $this->db->escape($data['ean']) . "', jan = '" . $this->db->escape($data['jan']) . "', isbn = '" . $this->db->escape($data['isbn']) . "', mpn = '" . $this->db->escape($data['mpn']) . "', location = '" . $this->db->escape($data['location']) . "', quantity = '" . (int)$data['quantity'] . "', minimum = '" . (int)$data['minimum'] . "', subtract = '" . (int)$data['subtract'] . "', stock_status_id = '" . (int)$data['stock_status_id'] . "', date_available = '" . $this->db->escape($data['date_available']) . "', manufacturer_id = '" . (int)$data['manufacturer_id'] . "', shipping = '" . (int)$data['shipping'] . "', price = '" . (float)$data['price'] . "', points = '" . (int)$data['points'] . "', weight = '" . (float)$data['weight'] . "', weight_class_id = '" . (int)$data['weight_class_id'] . "', length = '" . (float)$data['length'] . "', width = '" . (float)$data['width'] . "', height = '" . (float)$data['height'] . "', length_class_id = '" . (int)$data['length_class_id'] . "', status = '" . (int)$data['status'] . "', tax_class_id = '" . (int)$data['tax_class_id'] . "', sort_order = '" . (int)$data['sort_order'] . "', date_modified = NOW() WHERE product_id = '" . (int)$product_id . "'");
      ]]></search>
      <add position="replace"><![CDATA[
                   	  $this->db->query("UPDATE " . DB_PREFIX . "product SET model = '" . $this->db->escape($data['model']) . "', sku = '" . $this->db->escape($data['sku']) . "', upc = '" . $this->db->escape($data['upc']) . "', ean = '" . $this->db->escape($data['ean']) . "', jan = '" . $this->db->escape($data['jan']) . "', location = '" . $this->db->escape($data['location']) . "', quantity = '" . (int)$data['quantity'] . "', minimum = '" . (int)$data['minimum'] . "', subtract = '" . (int)$data['subtract'] . "', stock_status_id = '" . (int)$data['stock_status_id'] . "',`isbn` = '" . (isset($data['popupsize']) ? (int)$data['popupsize'] : 0) . "', `mpn` = '" . (isset($data['stickers']) ? (int)$data['stickers'] : 0) . "', date_available = '" . $this->db->escape($data['date_available']) . "', manufacturer_id = '" . (int)$data['manufacturer_id'] . "', shipping = '" . (int)$data['shipping'] . "', price = '" . (float)$data['price'] . "', points = '" . (int)$data['points'] . "', weight = '" . (float)$data['weight'] . "', weight_class_id = '" . (int)$data['weight_class_id'] . "', length = '" . (float)$data['length'] . "', width = '" . (float)$data['width'] . "', height = '" . (float)$data['height'] . "', length_class_id = '" . (int)$data['length_class_id'] . "', status = '" . (int)$data['status'] . "', tax_class_id = '" . (int)$data['tax_class_id'] . "', sort_order = '" . (int)$data['sort_order'] . "', date_modified = NOW() WHERE product_id = '" . (int)$product_id . "'");
      ]]></add>
</operation>
</file>
<file path="admin/view/template/catalog/product_form.tpl">
<operation>
      <search><![CDATA[
					<div class="form-group<?php echo ($hide_isbn == true)? ' hide':''; ?>">
      ]]></search>
      <add position="replace"><![CDATA[
                    <div class="form-group hide">
      ]]></add>
</operation>
<operation>
      <search><![CDATA[
					<div class="form-group<?php echo ($hide_mpn == true)? ' hide':''; ?>">
      ]]></search>
      <add position="replace"><![CDATA[
                    <div class="form-group hide">
      ]]></add>
</operation>
<!-- stickers -->
<operation>
      <search><![CDATA[
					<div class="tab-pane" id="tab-data">
      ]]></search>
      <add position="after"><![CDATA[
                    <div class="form-group">
						    <label class="col-sm-2 control-label" >Stickers</label>
						    <div class="col-sm-10">
						    <select name="stickers" class="form-control">
									<option value="0"<?php if($stickers < 1) { echo ' selected="selected"'; } ?>>no</option>
									<option value="1"<?php if($stickers == 1) { echo ' selected="selected"'; } ?>>new</option>
									<option value="2"<?php if($stickers == 2) { echo ' selected="selected"'; } ?>>top</option>
							</select>
							</div>
                   </div>
      ]]></add>
</operation>
</file>
<file path="admin/controller/common/header.php">
		<operation>
			  <search><![CDATA[
							$this->load->language('common/header');
			  ]]></search>
			  <add position="after"><![CDATA[
							$this->load->language('extension/module/modern');
			  ]]></add>
		</operation>
		<operation>
			<search><![CDATA[
			$data['logout'] = $this->url->link('common/logout', 'token=' . $this->session->data['token'], true);
			]]></search>
			<add position="after">
			<![CDATA[
			$data['istall_theme'] = $this->url->link('tool/installtheme', 'token=' . $this->session->data['token'], true);
			$data['theme_setting'] = $this->url->link('extension/theme/modern&store_id=0', 'token=' . $this->session->data['token'], true);
			]]></add>
		</operation>
		  	<operation>
			<search><![CDATA[
			$data['heading_title'] = $this->language->get('heading_title');
			]]></search>
			<add position="after">
			<![CDATA[
			$data['text_istall_theme'] = $this->language->get('text_istall_theme');
			$data['text_theme_setting'] = $this->language->get('text_theme_setting');
			]]></add>
		</operation>
</file>
<file path="admin/view/template/common/header.tpl">
<operation>
			<search><![CDATA[
			<ul class="nav pull-right">
			]]></search>
			<add position="after"><![CDATA[
			<li><a href="<?php echo $istall_theme; ?>"><i class="fa fa-refresh fa-lg"></i><span class ="hidden-xs hidden-sm"><?php echo $text_istall_theme; ?></span></a></li> 
            <li><a href="<?php echo $theme_setting; ?>"><i class="fa fa-cog fa-lg"></i><span class ="hidden-xs hidden-sm"><?php echo $text_theme_setting; ?></span></a></li> 
			]]></add>
</operation>
</file>
<file path="catalog/controller/common/search.php">
<operation>
      <search><![CDATA[
					return $this->load->view('common/search', $data);
      ]]></search>
      <add position="before"><![CDATA[
		if (isset($this->request->get['category_id'])) {
			$category_id = $this->request->get['category_id'];
		} else {
			$category_id = 0;
		}

		// 3 Level Category Search
		$data['categories'] = array();

		$categories_1 = $this->model_catalog_category->getCategories(0);

		foreach ($categories_1 as $category_1) {
			$level_2_data = array();

			$categories_2 = $this->model_catalog_category->getCategories($category_1['category_id']);

			foreach ($categories_2 as $category_2) {

				$level_2_data[] = array(
					'category_id' => $category_2['category_id'],
					'name'        => $category_2['name'],
				);
			}

			$data['categories'][] = array(
				'category_id' => $category_1['category_id'],
				'name'        => $category_1['name'],
				'children'    => $level_2_data
			);
		}
      ]]></add>
</operation>
<operation>
      <search><![CDATA[
					$this->load->language('common/search');
      ]]></search>
      <add position="after"><![CDATA[
                    $data['text_search_cat'] = $this->language->get('text_search_cat');
      ]]></add>
</operation>
</file>
<file path="catalog/controller/common/header.php">
<!-- language -->
<operation>
      <search><![CDATA[
					$this->load->language('common/header');
      ]]></search>
      <add position="after"><![CDATA[
                    $this->load->language('extension/module/modern');
					
      ]]></add>
</operation>
<operation>
      <search><![CDATA[
					$data['telephone'] = $this->config->get('config_telephone');
      ]]></search>
      <add position="after"><![CDATA[
	  		   $data['compare'] = $this->url->link('product/compare');
			   $data['searchlink'] = $this->url->link('product/search');
	             	$data['text_information'] = $this->language->get('text_information');
	            	$data['text_contact'] = $this->language->get('text_contact');
					$data['text_manufacturer'] = $this->language->get('text_manufacturer');
					$data['text_continue'] = $this->language->get('text_continue');					
					$data['text_continue2'] = $this->language->get('text_continue2');					
					$data['text_wishlist2'] = $this->language->get('text_wishlist2');
					$data['text_compare2'] = $this->language->get('text_compare2');
			        $data['href_manufacturer'] = $this->url->link('product/manufacturer');
					$data['text_compare'] = sprintf($this->language->get('text_compare'), (isset($this->session->data['compare']) ? count($this->session->data['compare']) : 0));	
                    $data['button_compare'] = $this->language->get('button_compare');
					$data['text_homel'] = $this->language->get('text_homel');
      ]]></add>
</operation>
<!-- informations/manufacturers -->
<operation>
      <search><![CDATA[
					$data['language'] = $this->load->controller('common/language');
      ]]></search>
      <add position="before"><![CDATA[
					$this->load->model('catalog/information');
					$this->load->language('common/footer');
					$this->load->model('catalog/manufacturer');
					$data['informations'] = array();
					foreach ($this->model_catalog_information->getInformations() as $result) {
						if ($result['bottom']) {
							$data['informations'][] = array(
								'title' => $result['title'],
								'href'  => $this->url->link('information/information', 'information_id=' . $result['information_id'])
							);
						}
					}
			        $data['manufacturers'] = array();
			        $manufacturers = $this->model_catalog_manufacturer->getManufacturers();
			     	foreach($manufacturers as $manufacturer){
					if ($manufacturer['image']) {
		             $img_manufacturer = $this->model_tool_image->resize($manufacturer['image'],$this->config->get('modern_photos_menuman_width'), $this->config->get('modern_photos_menuman_height'));
		            	} else {		
		            $img_manufacturer = $this->model_tool_image->resize('placeholder.png', 90, 90);
		                };	
					if($manufacturer){
				      $data['manufacturers'][] = array(
						'name' => $manufacturer['name'],
						'manufacturer_image' => $img_manufacturer,
						'href' => $this->url->link('product/manufacturer/info', 'manufacturer_id='.$manufacturer['manufacturer_id'])
					);
				       }
				          }
      ]]></add>
</operation>
<!-- 3_lv -->
<operation>
      <search><![CDATA[
					$this->load->model('catalog/product');
      ]]></search>
      <add position="after"><![CDATA[
					$this->load->model('tool/image');
      ]]></add>
</operation> 
<operation>
      <search><![CDATA[
					foreach ($children as $child) {
      ]]></search>
      <add position="after"><![CDATA[
					$children_lv3_data = array();
					$children_lv3 = $this->model_catalog_category->getCategories($child['category_id']);
					foreach ($children_lv3 as $child_lv3) {
					$filter_data_lv3 = array(
					'filter_category_id'  => $child_lv3['category_id'],
					'filter_sub_category' => true
					);		
					$children_lv3_data[] = array(
					'name'  => $child_lv3['name'] . ($this->config->get('config_product_count') ? ' (' . $this->model_catalog_product->getTotalProducts($filter_data_lv3) . ')' : ''),
					'href'  => $this->url->link('product/category', 'path=' . $category['category_id'] . '_' . $child['category_id'] . '_' . $child_lv3['category_id'])
					);
						}	
					if ($child['image']) {
					$img_lv2 = $this->model_tool_image->resize($child['image'],$this->config->get('modern_photos_menu_width'), $this->config->get('modern_photos_menu_height'));
					} else {		
					$img_lv2 = '';
					};
      ]]></add>
</operation>
<!-- stickers/menu -->	
<operation>
      <search><![CDATA[
					'name'  => $child['name'] . ($this->config->get('config_product_count') ? ' (' . $this->model_catalog_product->getTotalProducts($filter_data) . ')' : ''),
      ]]></search>
      <add position="after"><![CDATA[
					'children_lv3' => $children_lv3_data,
		            'column'   => $child['column'] ? $child['column'] : 1,
		            'image2' => $img_lv2,
      ]]></add>
</operation>	
<!-- activetopmenu -->
<operation>
      <search><![CDATA[
					$data['categories'][] = array(
      ]]></search>
      <add position="after"><![CDATA[
					'top'     => $category['top'],
					'category_id' => $category['category_id'],
      ]]></add>
</operation>	
<!-- 3_lv END -->
<!-- activetopmenu -->
<operation>
      <search><![CDATA[
					$data['categories'][] = array(
      ]]></search>
      <add position="before"><![CDATA[
					if (isset($this->request->get['path'])) {
						$parts = explode('_', (string)$this->request->get['path']);
					} else {
						$parts = array();
					}
					if (isset($parts[0])) {
						$data['category_id'] = $parts[0];
					} else {
						$data['category_id'] = 0;
					}
      ]]></add>
</operation>
<!-- menu img left -->
<operation>
      <search><![CDATA[
			        if ($category['top']) {
      ]]></search>
      <add position="before"><![CDATA[
					if ($category['image']) {
					$image_main = $this->model_tool_image->resize($category['image'],$this->config->get('modern_photos_width_image_main'), $this->config->get('modern_photos_height_image_main'));
					} else {		
					$image_main = '';
					};
      ]]></add>
</operation>
<operation>
      <search><![CDATA[
			       'category_id' => $category['category_id'],
      ]]></search>
      <add position="after"><![CDATA[
			       'image_main' => $image_main,
      ]]></add>
</operation>
<operation>
      <search><![CDATA[
					$data['cart'] = $this->load->controller('common/cart');
      ]]></search>
      <add position="after"><![CDATA[
		       $data['language_id'] = $this->config->get('config_language_id');
		            $data['modern_account_top'] = $this->config->get('modern_account_top');
					$data['modern_top_links3'] = $this->config->get('modern_top_links3');
					$data['modern_top_links4'] = $this->config->get('modern_top_links4');
					$data['modern_top_links5'] = $this->config->get('modern_top_links5');
					$data['modern_top_links6'] = $this->config->get('modern_top_links6');
					$data['modern_top_links8'] = $this->config->get('modern_top_links8');
					$data['modern_tittle_name'] = $this->config->get('modern_tittle_name');
					$data['modern_telephone_top'] = $this->config->get('modern_telephone_top');
					$data['modern_wishlist_top'] = $this->config->get('modern_wishlist_top');
					$data['modern_compare_top'] = $this->config->get('modern_compare_top');
					$data['modern_cart_top'] = $this->config->get('modern_cart_top');
					$data['modern_checkout_top'] = $this->config->get('modern_checkout_top');
					$data['modern_calltop'] = $this->config->get('modern_calltop');
					$data['modern_order_top'] = $this->config->get('modern_order_top');
					$data['modern_transaction_top'] = $this->config->get('modern_transaction_top');
					$data['modern_download_top'] = $this->config->get('modern_download_top');
					$data['modern_telephone_mainheader'] = $this->config->get('modern_telephone_mainheader');
					$data['modern_telephone_mainheader2'] = $this->config->get('modern_telephone_mainheader2');
					$data['modern_mail_header'] = $this->config->get('modern_mail_header');
				    $data['modern_sticky_menu'] = $this->config->get('modern_sticky_menu');
					$data['modern_photos_menu'] = $this->config->get('modern_photos_menu');
					$data['modern_photos_menu_manuf'] = $this->config->get('modern_photos_menu_manuf');
					$data['modern_3lv_menu'] = $this->config->get('modern_3lv_menu');
					$data['modern_info_menu'] = $this->config->get('modern_info_menu');
					$data['modern_man_menu'] = $this->config->get('modern_man_menu');
					$data['modern_main_link_menu'] = $this->config->get('modern_main_link_menu');
					$data['modern_main_link_href_menu'] = $this->config->get('modern_main_link_href_menu');
					$data['modern_arrowup'] = $this->config->get('modern_arrowup');
					$data['modern_header_var'] = $this->config->get('modern_header_var');
					$data['modern_callleft'] = $this->config->get('modern_callleft');
			        $data['modern_menuman_column'] = $this->config->get('modern_menuman_column');
					$data['modern_css'] = $this->config->get('modern_css');
					$data['modern_main_photos_menu'] = $this->config->get('modern_main_photos_menu');
					$data['modern_ico_home'] = $this->config->get('modern_ico_home');
					$data['modern_vmenu_menu'] = $this->config->get('modern_vmenu_menu');
					$data['modern_seeall_menu'] = $this->config->get('modern_seeall_menu');
					$data['modern_countvmenulv'] = $this->config->get('modern_countvmenulv');
					$data['modern_seevmenuico'] = $this->config->get('modern_seevmenuico');
					$data['modern_seevmenu_menu'] = $this->config->get('modern_seevmenu_menu');
					$data['modern_link_menucatalog'] = $this->config->get('modern_link_menucatalog');
					$data['modern_ico_home_text'] = $this->config->get('modern_ico_home_text');
					$data['modern_main_background_color'] = $this->config->get('modern_main_background_color');
					$data['modern_main_color_text'] = $this->config->get('modern_main_color_text');					
				    $data['modern_main_color_text2'] = $this->config->get('modern_main_color_text2');				
					$data['modern_main_color_text3'] = $this->config->get('modern_main_color_text3');
					$data['modern_background_btn'] = $this->config->get('modern_background_btn');					
					$data['modern_text_color_btn'] = $this->config->get('modern_text_color_btn');
					$data['modern_text_color_border_btn'] = $this->config->get('modern_text_color_border_btn');
					$data['modern_background_btn_hover'] = $this->config->get('modern_background_btn_hover');
                    $data['modern_text_color_btn_hover'] = $this->config->get('modern_text_color_btn_hover');
                    $data['modern_text_color_border_btn_hover'] = $this->config->get('modern_text_color_border_btn_hover');
                    $data['modern_color_callback'] = $this->config->get('modern_color_callback');
					$data['modern_color_tittle_news'] = $this->config->get('modern_color_tittle_news');
					$data['modern_color_text_news'] = $this->config->get('modern_color_text_news');
					
					if ($this->request->server['HTTPS']) {
						$server = $this->config->get('config_ssl');
					} else {
						$server = $this->config->get('config_url');
					}

					if (is_file(DIR_IMAGE . $this->config->get('aridius_news_footer_back'))) {
						$data['footer_back'] = $server . 'image/' . $this->config->get('aridius_news_footer_back');
					} else {
						$data['footer_back'] = '';
					}
					
					if (is_file(DIR_IMAGE . $this->config->get('aridius_news2_footer_back'))) {
						$data['footer_back2'] = $server . 'image/' . $this->config->get('aridius_news2_footer_back');
					} else {
						$data['footer_back2'] = '';
					}
					
					if (is_file(DIR_IMAGE . $this->config->get('aridius_letters_footer_back'))) {
						$data['letters_back'] = $server . 'image/' . $this->config->get('aridius_letters_footer_back');
					} else {
						$data['letters_back'] = '';
					}

					if (is_file(DIR_IMAGE . $this->config->get('modern_footer_logo'))) {
						$data['footer_logo'] = $server . 'image/' . $this->config->get('modern_footer_logo');
					} else {
						$data['footer_logo'] = '';
					}
				
      ]]></add>
 </operation>
</file>
<file path="catalog/controller/common/home.php">
<!-- new_positions -->
<operation>
      <search><![CDATA[
					$data['header'] = $this->load->controller('common/header');
      ]]></search>
      <add position="after"><![CDATA[
					$data['content_top1'] =  $this->load->controller('common/content_top1');
                    $data['content_top2'] =  $this->load->controller('common/content_top2');
                    $data['content_bot1'] =  $this->load->controller('common/content_bot1');
                    $data['content_bot2'] =  $this->load->controller('common/content_bot2');
                    $data['content_bot3'] =  $this->load->controller('common/content_bot3');
                    $data['content_fluid'] =  $this->load->controller('common/content_fluid');
                    $data['content_slleft'] =  $this->load->controller('common/content_slleft');
      ]]></add>
</operation>
<!-- new_positions END -->	
</file>	
<file path="catalog/controller/product/category.php">
<operation>
      <search><![CDATA[
					$this->load->language('product/category');
      ]]></search>
      <add position="after"><![CDATA[
				    $this->load->language('extension/module/modern');
      ]]></add>
</operation>
<!-- categories_2lv image  -->
<operation>
      <search><![CDATA[
					$data['categories'][] = array(
      ]]></search>
      <add position="before"><![CDATA[
					if ($result['image']) {
						$image = $this->model_tool_image->resize($result['image'], $this->config->get('modern_categories_2lv_width'), $this->config->get('modern_categories_2lv_height'));
					} else {
						$image = '';
					}
      ]]></add>
</operation>
<!-- categories_2lv image  -->
<operation>
      <search><![CDATA[
					'name' => $result['name'] . ($this->config->get('config_product_count') ? ' (' . $this->model_catalog_product->getTotalProducts($filter_data) . ')' : ''),
      ]]></search>
      <add position="after"><![CDATA[
                    'thumb' => $image,
      ]]></add>
</operation>
<operation>
      <search><![CDATA[
					$this->load->model('tool/image');
      ]]></search>
      <add position="after"><![CDATA[
	  	       $data['language_id'] = $this->config->get('config_language_id');
			        $data['button_quickview'] = $this->language->get('button_quickview');
			        $data['button_instock'] = $this->language->get('button_instock');
                    $data['text_show_desc'] = $this->language->get('text_show_desc');
					$data['text_hide_desc'] = $this->language->get('text_hide_desc');
					$data['modern_categories_2lv'] = $this->config->get('modern_categories_2lv');
					$data['modern_sort_cat'] = $this->config->get('modern_sort_cat');
					$data['modern_count_cat'] = $this->config->get('modern_count_cat');
					$data['modern_description_top_or_bot'] = $this->config->get('modern_description_top_or_bot');
					$data['modern_wishlist_cat'] = $this->config->get('modern_wishlist_cat');
	                $data['modern_compare_cat'] = $this->config->get('modern_compare_cat');
					$data['aridius_qckview_status'] = $this->config->get('aridius_qckview_status');
					$data['modern_description_cat'] = $this->config->get('modern_description_cat');
					$data['modern_atribute'] = $this->config->get('modern_atribute');
					$data['modern_rating_cat'] = $this->config->get('modern_rating_cat');
					$data['modern_name_sticker_product_new'] = $this->config->get('modern_name_sticker_product_new');
					$data['modern_name_sticker_product_top'] = $this->config->get('modern_name_sticker_product_top');		
					$data['modern_sticker_sale_product_auto'] = $this->config->get('modern_sticker_sale_product_auto');	
					$data['modern_sticker_new_product_auto'] = $this->config->get('modern_sticker_new_product_auto');
					$data['modern_sticker_product_new_day'] = $this->config->get('modern_sticker_product_new_day');
					$data['modern_sticker_product_top_rating'] = $this->config->get('modern_sticker_product_top_rating');
					$data['modern_sticker_product_top_viewed'] = $this->config->get('modern_sticker_product_top_viewed');
					$data['modern_sticker_product_top_ratinr'] = $this->config->get('modern_sticker_product_top_ratinr');
					$data['modern_sticker_top_product_auto'] = $this->config->get('modern_sticker_top_product_auto');
					$data['modern_limit_symbolst'] = $this->config->get('modern_limit_symbolst');
					$data['aridiusinstock_status'] = $this->config->get('aridiusinstock_status');
					$data['modern_attribute_see'] = $this->config->get('modern_attribute_see');
					$data['modern_description_length'] = $this->config->get('modern_description_length');
      ]]></add>
</operation>
<!-- stickers -->
<operation>
      <search><![CDATA[
					$data['products'][] = array(
      ]]></search>
      <add position="after"><![CDATA[
					'dateadded'  => $result['date_added'],
					'viewed'     => $result['viewed'],
					'rating'     => $result['rating'],
					'stickers'   => $result['mpn'],	
					'quantity'   => $result['quantity'],
					'price_sticker'        => $result['price'],
					'special_sticker'      => (isset($result['special']) ? $result['special'] : false),	
                    'images' => $img2,
                    'attribute_groups' => $this->model_catalog_product->getProductAttributes($result['product_id']),						
      ]]></add>
</operation>

<!-- addimg -->
<operation>
      <search><![CDATA[
					$data['products'][] = array(
      ]]></search>
      <add position="before"><![CDATA[
					$imgadd = $this->model_catalog_product->getProductImages($result['product_id']);
					$img2 = array();
					foreach ($imgadd as $imgi) {
						$img2[] = array(
						'thumb' => $this->model_tool_image->resize($imgi['image'], $this->config->get($this->config->get('config_theme') . '_image_product_width'), $this->config->get($this->config->get('config_theme') . '_image_product_height'))
						);
					}
      ]]></add>
</operation>
</file>
<file path="catalog/controller/product/product.php">
<operation>
			  <search><![CDATA[
							$this->load->language('product/product');
			  ]]></search>
			  <add position="after"><![CDATA[
							$this->load->language('extension/module/modern');
			  ]]></add>
</operation>
<operation>
      <search><![CDATA[
					$this->load->model('tool/image');
      ]]></search>
      <add position="after"><![CDATA[
					$data['language_id'] = $this->config->get('config_language_id');
					$data['text_end_stock'] = $this->language->get('text_end_stock');
					$data['text_lengthp'] = $this->language->get('text_lengthp');
					$data['text_widthp'] = $this->language->get('text_widthp');
					$data['text_heightp'] = $this->language->get('text_heightp');
					$data['text_weightp'] = $this->language->get('text_weightp');
					$data['text_dignity'] = $this->language->get('text_dignity');
					$data['text_limitations'] = $this->language->get('text_limitations');
					$data['button_quickview'] = $this->language->get('button_quickview');
					$data['button_instock'] = $this->language->get('button_instock');	
					$data['day'] = $this->language->get('day');
					$data['hour'] = $this->language->get('hour');
					$data['minute'] = $this->language->get('minute');
					$data['second'] = $this->language->get('second');
					$data['end_special'] = $this->language->get('end_special');			   
					$data['modern_elevatezoom'] = $this->config->get('modern_elevatezoom');
					$manufacturer_dta = $this->model_catalog_manufacturer->getManufacturer($product_info['manufacturer_id']);
                       if(isset($manufacturer_dta['image']) && file_exists(DIR_IMAGE.$manufacturer_dta['image']))
                    {
                       $manufacturer_img = $this->model_tool_image->resize($manufacturer_dta['image'], $this->config->get('modern_product_man_width'), $this->config->get('modern_product_man_height'));
                       $data['manufacturer_img'] = $manufacturer_img;
                    }
	                $data['modern_product_man_img'] = $this->config->get('modern_product_man_img');
					$data['modern_product_timer'] = $this->config->get('modern_product_timer');
					$data['modern_product_show_share'] = $this->config->get('modern_product_show_share');
					$data['modern_product_show_sku']  = $this->config->get('modern_product_show_sku');
					$data['modern_product_show_upc']  = $this->config->get('modern_product_show_upc');
					$data['modern_product_show_ean']  = $this->config->get('modern_product_show_ean');
					$data['modern_product_show_jan']  = $this->config->get('modern_product_show_jan');
					$data['modern_product_show_isbn'] = $this->config->get('modern_product_show_isbn');
					$data['modern_product_show_mpn']  = $this->config->get('modern_product_show_mpn');
					$data['modern_product_sku']  = $this->config->get('modern_product_sku');
					$data['modern_product_upc']  = $this->config->get('modern_product_upc');
					$data['modern_product_ean']  = $this->config->get('modern_product_ean');
					$data['modern_product_jan']  = $this->config->get('modern_product_jan');
					$data['modern_product_isbn'] = $this->config->get('modern_product_isbn');
					$data['modern_product_mpn']  = $this->config->get('modern_product_mpn');
					$data['modern_attribute_see']  = $this->config->get('modern_attribute_see');
					$data['modern_top_links7'] = $this->config->get('modern_top_links7');
					
					$top_links9 = $this->config->get('modern_top_links9');
					$data['modern_top_links9'] = array();
					
			        if(isset($top_links9) && is_array($top_links9)) foreach ($top_links9 as $top_link9) {
					if ($top_link9['image'] && is_file(DIR_IMAGE . $top_link9['image'])) {
						$modern_block_prod = $this->model_tool_image->resize($top_link9['image'], 100, 100);
					} else {
						$modern_block_prod = $this->model_tool_image->resize('no_image.png', 100, 100);
					}
					
					$data['modern_top_links9'][] = array(
						'description' => $top_link9['description'],
						'image_href'  => $modern_block_prod
									
					  );
				    }
					
					$data['modern_name_sticker_product_new'] = $this->config->get('modern_name_sticker_product_new');
					$data['modern_name_sticker_product_top'] = $this->config->get('modern_name_sticker_product_top');		
					$data['modern_sticker_sale_product_auto'] = $this->config->get('modern_sticker_sale_product_auto');	
					$data['modern_sticker_new_product_auto'] = $this->config->get('modern_sticker_new_product_auto');
					$data['modern_sticker_product_new_day'] = $this->config->get('modern_sticker_product_new_day');
					$data['modern_sticker_product_top_rating'] = $this->config->get('modern_sticker_product_top_rating');
					$data['modern_sticker_product_top_viewed'] = $this->config->get('modern_sticker_product_top_viewed');
					$data['modern_sticker_product_top_ratinr'] = $this->config->get('modern_sticker_product_top_ratinr');
					$data['modern_sticker_top_product_auto'] = $this->config->get('modern_sticker_top_product_auto');
					$data['modern_description_cat'] = $this->config->get('modern_description_cat');
					$data['modern_atribute'] = $this->config->get('modern_atribute');
					$data['modern_atribute'] = $this->config->get('modern_atribute');
					$data['modern_limit_symbolst'] = $this->config->get('modern_limit_symbolst');
					$data['modern_rating_cat'] = $this->config->get('modern_rating_cat');
					$data['modern_wishlist_cat'] = $this->config->get('modern_wishlist_cat');
	                $data['modern_compare_cat'] = $this->config->get('modern_compare_cat');
					$data['aridius_qckview_status'] = $this->config->get('aridius_qckview_status');
					$data['modern_share'] = $this->config->get('modern_share');
					$data['modern_product_raiting'] = $this->config->get('modern_product_raiting');
					$data['modern_product_size'] = $this->config->get('modern_product_size');
					$data['modern_product_weight'] = $this->config->get('modern_product_weight');
					$data['modern_product_kod_tovara'] = $this->config->get('modern_product_kod_tovara');
					$data['aridiusinstock_status'] = $this->config->get('aridiusinstock_status');
					$data['modern_product_info_block'] = $this->config->get('modern_product_info_block');
					$data['modern_product_show_infoblock'] = $this->config->get('modern_product_show_infoblock');
					
      ]]></add>
</operation>
<operation>
      <search><![CDATA[
					$this->response->setOutput($this->load->view('product/product', $data));
      ]]></search>
      <add position="before"><![CDATA[

					if(isset($this->request->post['aridius_quickview'])) {
						$data['aridius_qckview_tabs'] = $this->config->get('aridius_qckview_tabs');
						$data['aridius_qckview_tab_description'] = $this->config->get('aridius_qckview_tab_description');
						$data['aridius_qckview_tab_character'] = $this->config->get('aridius_qckview_tab_character');
						$data['aridius_qckview_tab_reviews'] = $this->config->get('aridius_qckview_tab_reviews');
						$data['aridius_qckview_tab_additional'] = $this->config->get('aridius_qckview_tab_additional');
						$data['aridius_qckview_image'] = $this->config->get('aridius_qckview_image');
						$data['aridius_qckview_additional_image'] = $this->config->get('aridius_qckview_additional_image');
						$data['aridius_qckview_button_wish'] = $this->config->get('aridius_qckview_button_wish');
						$data['aridius_qckview_button_compare'] = $this->config->get('aridius_qckview_button_compare');
						$data['aridius_qckview_rating'] = $this->config->get('aridius_qckview_rating');
						$data['aridius_qckview_short_info'] = $this->config->get('aridius_qckview_short_info');
						$data['aridius_qckview_icons_likes'] = $this->config->get('aridius_qckview_icons_likes');
						$data['aridius_qckview_manufacturer'] = $this->config->get('aridius_qckview_manufacturer');
						$data['aridius_qckview_stock'] = $this->config->get('aridius_qckview_stock');
						$data['aridius_qckview_code_product'] = $this->config->get('aridius_qckview_code_product');
						$data['modern_show_attribute']  = $this->config->get('modern_show_attribute');
						$data['modern_attribute_see']  = $this->config->get('modern_attribute_see');
						$data['modern_pr_attribute_name']  = $this->config->get('modern_pr_attribute_name');
						$data['modern_pr_attribute_seeall']  = $this->config->get('modern_pr_attribute_seeall');
						$data['tab_description'] = $this->language->get('tab_description');
						$data['tab_products'] = $this->language->get('tab_products');
						$data['tab_attribute'] = $this->language->get('tab_attribute');
						$data['tab_review'] = sprintf($this->language->get('tab_review'), $product_info['reviews']);
						$data['text_dignity'] = $this->language->get('text_dignity');
						$data['text_limitations'] = $this->language->get('text_limitations');
					}
			
					if(isset($this->request->post['aridius_quickview'])) {
						$data['ard_quckview'] = $this->load->view('product/aridius_quickview', $data);
					} else {
						$data['ard_quckview'] = '';
					}
					
      ]]></add>
</operation>
<!-- options img pop up-->
<operation>
      <search><![CDATA[
					'price'                   => $price,
      ]]></search>
      <add position="before"><![CDATA[
                     'popup'                   => $this->model_tool_image->resize($option_value['image'], 550, 550),
      ]]></add>
</operation>
<!-- options img size-->
<operation>
      <search><![CDATA[
					'image'                   => $option_value['image'] ? $this->model_tool_image->resize($option_value['image'], 50, 50) : '',
      ]]></search>
      <add position="replace"><![CDATA[
                     'image'                  => $option_value['image'] ? $this->model_tool_image->resize($option_value['image'], $this->config->get('modern_product_optionimg_width'), $this->config->get('modern_product_optionimg_height')) : '',
      ]]></add>
</operation>
<!-- elevatezoom-->
<operation>
      <search><![CDATA[
					'popup' => $this->model_tool_image->resize($result['image'], $this->config->get($this->config->get('config_theme') . '_image_popup_width'), $this->config->get($this->config->get('config_theme') . '_image_popup_height')),
      ]]></search>
      <add position="after"><![CDATA[
                    'thumb2' => $this->model_tool_image->resize($result['image'], $this->config->get($this->config->get('config_theme') . '_image_thumb_width'), $this->config->get($this->config->get('config_theme') . '_image_thumb_height')),
      ]]></add>
</operation>
<!-- stickers -->
<operation>
      <search><![CDATA[
					$data['products'][] = array(
      ]]></search>
      <add position="after"><![CDATA[
					'dateadded'       => $result['date_added'],
					'viewed'          => $result['viewed'],
					'rating'          => $result['rating'],
					'stickers'        => $result['stickers'],	
					'quantity'        => $result['quantity'],	
					'price_sticker'        => $result['price'],
					'special_sticker'      => (isset($result['special']) ? $result['special'] : false),
					'attribute_groups' => $this->model_catalog_product->getProductAttributes($result['product_id']),
					'images' => $img2,					
      ]]></add>
</operation>
<operation>
      <search><![CDATA[
					$data['products'][] = array(
      ]]></search>
      <add position="before"><![CDATA[
					$imgadd = $this->model_catalog_product->getProductImages($result['product_id']);
					$img2 = array();
					foreach ($imgadd as $imgi) {
						$img2[] = array(
						'thumb' => $this->model_tool_image->resize($imgi['image'], $this->config->get($this->config->get('config_theme') . '_image_related_width'), $this->config->get($this->config->get('config_theme') . '_image_related_height'))
						);
					}					
      ]]></add>
</operation>
<operation>
      <search><![CDATA[
					$data['special'] = $this->currency->format($this->tax->calculate($product_info['special'], $product_info['tax_class_id'], $this->config->get('config_tax')), $this->session->data['currency']);
      ]]></search>
      <add position="after"><![CDATA[
                    $data['saving_product'] = round((($product_info['price'] - $product_info['special']) / $product_info['price']) * 100, 0);
					$this->load->model('catalog/product');	
					$special_info = $this->model_catalog_product->getSpecialDates($product_id);
					if ($special_info) {
						$data['special_date_end'] = $special_info['date_end'];
						$data['special_date_start'] = $special_info['date_start'];
					} else {
						$date['special_date_end'] = false;
						$date['special_date_start'] = false;
					}
      ]]></add>
</operation>
<!-- shema -->
<operation>
      <search><![CDATA[
					if ((float)$product_info['special']) {
      ]]></search>
      <add position="before"><![CDATA[
                    $data['sh_currency'] = $this->session->data['currency'];
      ]]></add>
</operation>
<!-- shema end -->
<operation>
      <search><![CDATA[
					$data['rating'] = (int)$product_info['rating'];
      ]]></search>
      <add position="after"><![CDATA[
                    $data['viewed'] = (int)$product_info['viewed'];
			        $data['dateadded'] = $product_info['date_added'];
					$data['stickers'] = $product_info['stickers'];
					$data['quantity'] = $product_info['quantity'];
      ]]></add>
</operation>
<!-- weight/ sku -->
<operation>
      <search><![CDATA[
					$data['points'] = $product_info['points'];
      ]]></search>
      <add position="after"><![CDATA[
                    $data['length'] = number_format($product_info['length'], 0 ,"","").' '.$this->length->getUnit($product_info['length_class_id']);
                    $data['width']  = number_format($product_info['width'], 0 ,"","").' '.$this->length->getUnit($product_info['length_class_id']);
                    $data['height'] = number_format($product_info['height'], 0 ,"","").' '.$this->length->getUnit($product_info['length_class_id']);
                    $data['weight'] = number_format($product_info['weight'], 0 ,"","").' '.$this->weight->getUnit($product_info['weight_class_id']);
                    $data['upc']  = $product_info['upc'];
			        $data['sku']  = $product_info['sku'];
					$data['ean']  = $product_info['ean'];
					$data['jan']  = $product_info['jan'];
					$data['isbn'] = $product_info['isbn'];
					$data['mpn']  = $product_info['mpn'];
      ]]></add>
</operation>
<!-- weight end -->
</file>	
<file path="catalog/controller/common/footer.php">
<!-- logo_footer -->
<operation>
      <search><![CDATA[
		           $this->load->language('common/footer');
      ]]></search>
      <add position="after"><![CDATA[
	               $this->load->language('extension/module/modern');
				   if (is_file(DIR_IMAGE . $this->config->get('config_logo'))) {
						$data['logo'] = 'image/' . $this->config->get('config_logo');
					} else {
						$data['logo'] = '';
					}
      ]]></add>
</operation>
<!-- new_positions -->
<operation>
      <search><![CDATA[
				    $data['newsletter'] = $this->url->link('account/newsletter', '', true);
      ]]></search>
      <add position="after"><![CDATA[
	  		        $data['og_url'] = (isset($this->request->server['HTTPS']) && (($this->request->server['HTTPS'] == 'on') || ($this->request->server['HTTPS'] == '1')) ? HTTPS_SERVER : HTTP_SERVER) . substr($this->request->server['REQUEST_URI'], 1, (strlen($this->request->server['REQUEST_URI'])-1));
		            $data['home'] = $this->url->link('common/home');
					$data['text_footer_map'] = $this->language->get('text_footer_map');
					$data['text_footer_social'] = $this->language->get('text_footer_social');
					$data['text_footer_pay'] = $this->language->get('text_footer_pay');
	  		        $data['text_footer_contacts'] = $this->language->get('text_footer_contacts');
			        $data['text_footer_aboutus'] = $this->language->get('text_footer_aboutus');
					$data['text_footer_send'] = $this->language->get('text_footer_send');
					$data['text_footer_mailtext'] = $this->language->get('text_footer_mailtext');
	                $data['language_id'] = $this->config->get('config_language_id');
			        $data['modern_top_links2'] = $this->config->get('modern_top_links2');
					$data['modern_telephoneon_footer'] = $this->config->get('modern_telephoneon_footer');	
					$data['modern_telephone1on_footer'] = $this->config->get('modern_telephone1on_footer');	
					$data['modern_telephone2on_footer'] = $this->config->get('modern_telephone2on_footer');	
					$data['modern_skype_footeron'] = $this->config->get('modern_skype_footeron');	
					$data['modern_mail_footeron'] = $this->config->get('modern_mail_footeron');	
					$data['modern_addres_footeron'] = $this->config->get('modern_addres_footeron');	
					$data['modern_time_footeron'] = $this->config->get('modern_time_footeron');	
					$data['modern_telephone_footer'] = $this->config->get('modern_telephone_footer');
					$data['modern_telephone1_footer'] = $this->config->get('modern_telephone1_footer');
					$data['modern_telephone2_footer'] = $this->config->get('modern_telephone2_footer');
					$data['modern_skype_footer'] = $this->config->get('modern_skype_footer');
					$data['modern_mail_footer'] = $this->config->get('modern_mail_footer');
					$data['modern_addres_footer'] = $this->config->get('modern_addres_footer');
					$data['modern_time_footer'] = $this->config->get('modern_time_footer');
					$data['modern_contact_footer'] = $this->config->get('modern_contact_footer');	
					$data['modern_return_footer'] = $this->config->get('modern_return_footer');	
					$data['modern_sitemap_footer'] = $this->config->get('modern_sitemap_footer');	
					$data['modern_manufacturer_footer'] = $this->config->get('modern_manufacturer_footer');	
					$data['modern_voucher_footer'] = $this->config->get('modern_voucher_footer');	
					$data['modern_affiliate_footer'] = $this->config->get('modern_affiliate_footer');	
					$data['modern_special_footer'] = $this->config->get('modern_special_footer');
					$data['modern_account_footer'] = $this->config->get('modern_account_footer');
					$data['modern_order_footer'] = $this->config->get('modern_order_footer');
					$data['modern_wishlist_footer'] = $this->config->get('modern_wishlist_footer');
					$data['modern_newsletter_footer'] = $this->config->get('modern_newsletter_footer');
					$data['modern_show_fluid_map_footer'] = $this->config->get('modern_show_fluid_map_footer');
					$data['modern_longitude_fluid_map'] = $this->config->get('modern_longitude_fluid_map');					
					$data['modern_latitude_fluid_map'] = $this->config->get('modern_latitude_fluid_map');
					$data['modern_description'] = $this->config->get('modern_description');
					$data['modern_show_contactblock'] = $this->config->get('modern_show_contactblock');
					$data['modern_fluid_map_zoom'] = $this->config->get('modern_fluid_map_zoom');
					$data['modern_license_text'] = $this->config->get('modern_license_text');
					$data['modern_counter'] = $this->config->get('modern_counter');
					$data['modern_description_map_logo'] = $this->config->get('modern_description_map_logo');
					$data['modern_fluid_map_key'] = $this->config->get('modern_fluid_map_key');
					$data['modern_show_info_marker_block'] = $this->config->get('modern_show_info_marker_block');
					$data['modern_show_logo_footer'] = $this->config->get('modern_show_logo_footer');
					$data['modern_show_itext_footer'] = $this->config->get('modern_show_itext_footer');

					if ($this->request->server['HTTPS']) {
						$server = $this->config->get('config_ssl');
					} else {
						$server = $this->config->get('config_url');
					}
					if (is_file(DIR_IMAGE . $this->config->get('modern_footer_imgico'))) {
						$data['map_img'] = $server . 'image/' . $this->config->get('modern_footer_imgico');
					} else {
						$data['map_img'] = '';
					}
					if (is_file(DIR_IMAGE . $this->config->get('modern_footer_pay'))) {
						$data['footer_pay'] = $server . 'image/' . $this->config->get('modern_footer_pay');
					} else {
						$data['footer_pay'] = '';
					}
					
					if (is_file(DIR_IMAGE . $this->config->get('modern_footer_logo'))) {
						$data['footer_logo'] = $server . 'image/' . $this->config->get('modern_footer_logo');
					} else {
						$data['footer_logo'] = '';
					}
					
					$data['name'] = $this->config->get('config_name');
      ]]></add>
</operation>
<!-- new_positions -->
<operation>
      <search><![CDATA[
		            return $this->load->view('common/footer', $data);
      ]]></search>
      <add position="before"><![CDATA[
                     $data['content_mail'] =  $this->load->controller('common/content_mail');
      ]]></add>
</operation>
</file>
<file path="catalog/controller/account/wishlist.php">
<!-- pop up wishlist\cart\compare -->
<operation>
      <search><![CDATA[
					$this->load->model('catalog/product');
      ]]></search>
      <add position="after"><![CDATA[
                    $this->load->model('tool/image');
      ]]></add>
</operation>
<operation>
      <search><![CDATA[
					$json['success'] = sprintf($this->language->get('text_success'), $this->url->link('product/product', 'product_id=' . (int)$this->request->post['product_id']), $product_info['name'], $this->url->link('account/wishlist'));
      ]]></search>
      <add position="replace"><![CDATA[
                    $json['success'] = sprintf($this->language->get('text_success'), $this->model_tool_image->resize($product_info['image'], '80', '80'), $this->url->link('product/product', 'product_id=' . (int)$this->request->post['product_id']), $product_info['name'], $this->url->link('account/wishlist'));
      ]]></add>
</operation>
</file>	
<file path="catalog/controller/product/compare.php">
<operation>
      <search><![CDATA[
					$this->load->language('product/compare');
      ]]></search>
      <add position="after"><![CDATA[
				    $this->load->language('extension/module/modern');
      ]]></add>
</operation>
<!-- pop up wishlist\cart\compare -->
<operation>
      <search><![CDATA[
					$this->load->model('catalog/product');
      ]]></search>
      <add position="after"><![CDATA[
                    $this->load->model('tool/image');
      ]]></add>
</operation>
<operation>
      <search><![CDATA[
					$json['success'] = sprintf($this->language->get('text_success'), $this->url->link('product/product', 'product_id=' . $this->request->post['product_id']), $product_info['name'], $this->url->link('product/compare'));
      ]]></search>
      <add position="replace"><![CDATA[
                    $json['success'] = sprintf($this->language->get('text_success'), $this->model_tool_image->resize($product_info['image'], '80', '80'), $this->url->link('product/product', 'product_id=' . $this->request->post['product_id']), $product_info['name'], $this->url->link('product/compare'));
      ]]></add>
</operation>
</file>	
<file path="catalog/controller/common/cart.php">
<!-- cart style-->
<operation>
      <search><![CDATA[
					$data['products'] = array();
      ]]></search>
      <add position="before"><![CDATA[
                    if ($this->request->server['HTTPS']) {
			        $server = $this->config->get('config_ssl');
		             } else {
			        $server = $this->config->get('config_url');
		             }
		            if (is_file(DIR_IMAGE . $this->config->get('modern_cart_img'))) {
			        $data['body_background'] = $server . 'image/' . $this->config->get('modern_cart_img');
		             } else {
			        $data['body_background'] = '';
		             }
      ]]></add>
</operation>
</file>	
<file path="catalog/controller/checkout/cart.php">
<!-- pop up wishlist\cart\compare -->
<operation>
      <search><![CDATA[
					if (!$json) {
      ]]></search>
      <add position="before"><![CDATA[
                    $this->load->model('tool/image');
      ]]></add>
</operation>
<operation>
      <search><![CDATA[
					$json['success'] = sprintf($this->language->get('text_success'), $this->url->link('product/product', 'product_id=' . $this->request->post['product_id']), $product_info['name'], $this->url->link('checkout/cart'));
      ]]></search>
      <add position="replace"><![CDATA[
                    $json['success'] = sprintf($this->language->get('text_success'), $this->model_tool_image->resize($product_info['image'], '80', '80'), $this->url->link('product/product', 'product_id=' . $this->request->post['product_id']), $product_info['name'], $this->url->link('checkout/cart'));
      ]]></add>
</operation>
</file>	
<file path="catalog/controller/extension/module/{carousel,slideshow,banner}*.php">
<operation>
      <search><![CDATA[
		            $this->document->addStyle('catalog/view/javascript/jquery/owl-carousel/owl.carousel.css');
      ]]></search>
      <add position="replace"><![CDATA[
                    $this->document->addStyle('catalog/view/theme/modern/js/jquery/owl-carousel/owl.carousel.css');
      ]]></add>
</operation>
<operation>
      <search><![CDATA[
		            $this->document->addScript('catalog/view/javascript/jquery/owl-carousel/owl.carousel.min.js');
      ]]></search>
      <add position="replace"><![CDATA[
		            $this->document->addScript('catalog/view/theme/modern/js/jquery/owl-carousel/owl.carousel.min.js');
      ]]></add>
</operation>
</file>
<file path="catalog/controller/product/{manufacturer,special,search}*.php">
<operation>
      <search><![CDATA[
					$this->load->model('tool/image');
      ]]></search>
      <add position="after"><![CDATA[
	           $this->load->language('extension/module/modern');
	           $data['language_id'] = $this->config->get('config_language_id');
			   $data['button_quickview'] = $this->language->get('button_quickview');
			   $data['button_instock'] = $this->language->get('button_instock');
					$data['modern_sort_cat'] = $this->config->get('modern_sort_cat');
					$data['modern_count_cat'] = $this->config->get('modern_count_cat');
					$data['modern_wishlist_cat'] = $this->config->get('modern_wishlist_cat');
	                $data['modern_compare_cat'] = $this->config->get('modern_compare_cat');
					$data['modern_description_cat'] = $this->config->get('modern_description_cat');
					$data['modern_atribute'] = $this->config->get('modern_atribute');
                    $data['modern_rating_cat'] = $this->config->get('modern_rating_cat');
					$data['modern_name_sticker_product_new'] = $this->config->get('modern_name_sticker_product_new');
					$data['modern_name_sticker_product_top'] = $this->config->get('modern_name_sticker_product_top');		
					$data['modern_sticker_sale_product_auto'] = $this->config->get('modern_sticker_sale_product_auto');	
					$data['modern_sticker_new_product_auto'] = $this->config->get('modern_sticker_new_product_auto');
					$data['modern_sticker_product_new_day'] = $this->config->get('modern_sticker_product_new_day');
					$data['modern_sticker_product_top_rating'] = $this->config->get('modern_sticker_product_top_rating');
					$data['modern_sticker_product_top_viewed'] = $this->config->get('modern_sticker_product_top_viewed');
					$data['modern_sticker_product_top_ratinr'] = $this->config->get('modern_sticker_product_top_ratinr');
					$data['modern_sticker_top_product_auto'] = $this->config->get('modern_sticker_top_product_auto');
					$data['aridius_qckview_status'] = $this->config->get('aridius_qckview_status');
					$data['modern_limit_symbolst'] = $this->config->get('modern_limit_symbolst');
					$data['aridiusinstock_status'] = $this->config->get('aridiusinstock_status');
					$data['modern_attribute_see'] = $this->config->get('modern_attribute_see');
      ]]></add>
</operation>
<!-- stickers -->
<operation>
      <search><![CDATA[
					$data['products'][] = array(
      ]]></search>
      <add position="after"><![CDATA[
					'dateadded'  => $result['date_added'],
					'viewed'     => $result['viewed'],
					'rating'     => $result['rating'],
					'stickers'   => $result['mpn'],	
					'quantity'   => $result['quantity'],
					'price_sticker'        => $result['price'],
					'special_sticker'      => (isset($result['special']) ? $result['special'] : false),	
					'images' => $img2,
					'attribute_groups' => $this->model_catalog_product->getProductAttributes($result['product_id']),						

      ]]></add>
</operation>
<operation>
      <search><![CDATA[
					$data['products'][] = array(
      ]]></search>
      <add position="before"><![CDATA[
					/* addimg */
					$imgadd = $this->model_catalog_product->getProductImages($result['product_id']);
					$img2 = array();
					foreach ($imgadd as $imgi) {
					$img2[] = array(
					'thumb' => $this->model_tool_image->resize($imgi['image'], $this->config->get($this->config->get('config_theme') . '_image_product_width'), $this->config->get($this->config->get('config_theme') . '_image_product_height'))
					);
					}
					/* addimg */						
      ]]></add>
</operation>
</file>
<file path="catalog/controller/product/compare.php">
<operation>
      <search><![CDATA[
					$this->load->model('tool/image');
      ]]></search>
      <add position="after"><![CDATA[
					$data['aridiusinstock_status'] = $this->config->get('aridiusinstock_status');
      ]]></add>
</operation>
<operation>
      <search><![CDATA[
					$data['products'][$product_id] = array(
      ]]></search>
      <add position="after"><![CDATA[
					'quantity'   => $product_info['quantity'],
      ]]></add>
</operation>
<operation>
      <search><![CDATA[
					$data['text_product'] = $this->language->get('text_product');
      ]]></search>
      <add position="after"><![CDATA[
					$data['button_instock'] = $this->language->get('button_instock');
      ]]></add>
</operation>
</file>
<file path="catalog/controller/account/wishlist.php">
<operation>
      <search><![CDATA[
					$this->load->model('tool/image');
      ]]></search>
      <add position="after"><![CDATA[
					$data['aridiusinstock_status'] = $this->config->get('aridiusinstock_status');
      ]]></add>
</operation>
<operation>
      <search><![CDATA[
					$data['products'][] = array(
      ]]></search>
      <add position="after"><![CDATA[
					'quantity'   => $product_info['quantity'],
      ]]></add>
</operation>
<operation>
      <search><![CDATA[
					$data['button_remove'] = $this->language->get('button_remove');
      ]]></search>
      <add position="after"><![CDATA[
					$data['button_instock'] = $this->language->get('button_instock');
      ]]></add>
</operation>
</file>
<file path="catalog/model/catalog/product.php">
<operation>
      <search><![CDATA[
					'product_id'       => $query->row['product_id'],
      ]]></search>
      <add position="after"><![CDATA[
					'stickers'           => round($query->row['mpn']),
      ]]></add>
</operation>
<!-- timer -->
<operation>
      <search><![CDATA[
					public function getProducts($data = array()) {
      ]]></search>
      <add position="before"><![CDATA[
					public function getSpecialDates($product_id) {
                    $query = $this->db->query("SELECT price, date_start, date_end FROM " . DB_PREFIX . "product_special WHERE product_id = '" . (int)$product_id . "' AND ((date_start = '0000-00-00' OR date_start < NOW()) AND (date_end = '0000-00-00' OR date_end > NOW())) ORDER BY priority ASC, price ASC LIMIT 1");
                    if ($query->num_rows) {
                    return array(
                    'date_start' => $query->row['date_start'],
                    'date_end'   => $query->row['date_end'],
                    );
                    } else {
                    return false;
                     }
                    }
      ]]></add>
</operation>
</file>
<file path="catalog/controller/extension/module/featured.php">
<!-- stickers -->
<operation>
      <search><![CDATA[
					$data['products'][] = array(
      ]]></search>
      <add position="after"><![CDATA[
					'dateadded'  => $product_info['date_added'],
					'viewed'     => $product_info['viewed'],
					'rating'     => $product_info['rating'],
					'stickers'   => $product_info['stickers'],
					'price_sticker'        => $product_info['price'],
					'special_sticker'      => (isset($product_info['special']) ? $product_info['special'] : false),	
      ]]></add>
</operation>
<!-- stickers -->
<operation>
      <search><![CDATA[
					$data['button_compare'] = $this->language->get('button_compare');
      ]]></search>
      <add position="before"><![CDATA[
	  		   $data['language_id'] = $this->config->get('config_language_id');
					$data['modern_name_sticker_product_new'] = $this->config->get('modern_name_sticker_product_new');
					$data['modern_name_sticker_product_top'] = $this->config->get('modern_name_sticker_product_top');		
					$data['modern_sticker_sale_product_auto'] = $this->config->get('modern_sticker_sale_product_auto');	
					$data['modern_sticker_new_product_auto'] = $this->config->get('modern_sticker_new_product_auto');
					$data['modern_sticker_product_new_day'] = $this->config->get('modern_sticker_product_new_day');
					$data['modern_sticker_product_top_rating'] = $this->config->get('modern_sticker_product_top_rating');
					$data['modern_sticker_product_top_viewed'] = $this->config->get('modern_sticker_product_top_viewed');
					$data['modern_sticker_product_top_ratinr'] = $this->config->get('modern_sticker_product_top_ratinr');
					$data['modern_sticker_top_product_auto'] = $this->config->get('modern_sticker_top_product_auto');
      ]]></add>
</operation>
</file>
<file path="catalog/controller/extension/module/{special,bestseller,latest}*.php">
<!-- stickers -->
<operation>
      <search><![CDATA[
					$data['products'][] = array(
      ]]></search>
      <add position="after"><![CDATA[
					'dateadded'  => $result['date_added'],
					'viewed'     => $result['viewed'],
					'rating'     => $result['rating'],
					'stickers'   => $result['mpn'],	
					'price_sticker'        => $result['price'],
					'special_sticker'      => (isset($result['special']) ? $result['special'] : false),			
      ]]></add>
</operation>
<!-- stickers -->
<operation>
      <search><![CDATA[
					$data['button_compare'] = $this->language->get('button_compare');
      ]]></search>
      <add position="before"><![CDATA[
	  		   $data['language_id'] = $this->config->get('config_language_id');
					$data['modern_name_sticker_product_new'] = $this->config->get('modern_name_sticker_product_new');
					$data['modern_name_sticker_product_top'] = $this->config->get('modern_name_sticker_product_top');		
					$data['modern_sticker_sale_product_auto'] = $this->config->get('modern_sticker_sale_product_auto');	
					$data['modern_sticker_new_product_auto'] = $this->config->get('modern_sticker_new_product_auto');
					$data['modern_sticker_product_new_day'] = $this->config->get('modern_sticker_product_new_day');
					$data['modern_sticker_product_top_rating'] = $this->config->get('modern_sticker_product_top_rating');
					$data['modern_sticker_product_top_viewed'] = $this->config->get('modern_sticker_product_top_viewed');
					$data['modern_sticker_product_top_ratinr'] = $this->config->get('modern_sticker_product_top_ratinr');
					$data['modern_sticker_top_product_auto'] = $this->config->get('modern_sticker_top_product_auto');
      ]]></add>
</operation>
</file>
<!-- limit symbols -->
<file path="catalog/controller/extension/module/{featured,bestseller,lates,special}*.php">
<operation>
      <search><![CDATA[
		             $data['button_compare'] = $this->language->get('button_compare');
      ]]></search>
      <add position="after"><![CDATA[
                     $data['modern_limit_symbolst'] = $this->config->get('modern_limit_symbolst');
      ]]></add>
</operation>
</file>
<!-- banner START -->
<file path="catalog/controller/extension/module/{banner,slideshow}*.php">
<operation>
      <search><![CDATA[
					'link'  => $result['link'],
      ]]></search>
      <add position="after"><![CDATA[
				    'description' => $result['description'],
      ]]></add>
</operation>
</file> 
<file path="admin/view/template/design/banner_form.tpl">
<operation>
      <search><![CDATA[
					<td class="text-left"><?php echo $entry_link; ?></td>
      ]]></search>
      <add position="after"><![CDATA[
				   <td class="text-center"><i class="fa fa-file-text" aria-hidden="true"></i></td>
      ]]></add>
</operation>
<operation>
      <search><![CDATA[
					 <td class="text-left" style="width: 30%;"><input type="text" name="banner_image[<?php echo $language['language_id']; ?>][<?php echo $image_row; ?>][link]" value="<?php echo $banner_image['link']; ?>" placeholder="<?php echo $entry_link; ?>" class="form-control" /></td>
      ]]></search>
      <add position="after"><![CDATA[
					 <td class="text-center"><textarea style="width:300px; height:150px;" name="banner_image[<?php echo $language['language_id']; ?>][<?php echo $image_row; ?>][description]" id="description"><?php echo $banner_image['description']; ?></textarea></td>
      ]]></add>
</operation>
<operation>
      <search><![CDATA[
					<td colspan="4"></td>
      ]]></search>
      <add position="replace"><![CDATA[
			        <td colspan="5"></td>
      ]]></add>
</operation>
<operation>
      <search><![CDATA[
					html += '  <td class="text-left" style="width: 30%;"><input type="text" name="banner_image[' + language_id + '][' + image_row + '][link]" value="" placeholder="<?php echo $entry_link; ?>" class="form-control" /></td>';	
      ]]></search>
      <add position="after"><![CDATA[
	                html += '<td class="text-center"><textarea style="width:300px; height:150px;" name="banner_image[' + language_id + '][' + image_row + '][description]" id="description"></textarea></td>';	
      ]]></add>
</operation>
</file>
<file path="admin/controller/design/banner.php">
<operation>
      <search><![CDATA[
					'title'      => $banner_image['title'],
      ]]></search>
      <add position="after"><![CDATA[
				    'description' => $banner_image['description'],
      ]]></add>
</operation>
</file> 
<file path="admin/model/design/banner.php">
<operation>
      <search><![CDATA[
					$this->db->query("INSERT INTO " . DB_PREFIX . "banner_image SET banner_id = '" . (int)$banner_id . "', language_id = '" . (int)$language_id . "', title = '" .  $this->db->escape($banner_image['title']) . "', link = '" .  $this->db->escape($banner_image['link']) . "', image = '" .  $this->db->escape($banner_image['image']) . "', sort_order = '" .  (int)$banner_image['sort_order'] . "'");
      ]]></search>
      <add position="replace"><![CDATA[
				    $this->db->query("INSERT INTO " . DB_PREFIX . "banner_image SET banner_id = '" . (int)$banner_id . "', language_id = '" . (int)$language_id . "', title = '" .  $this->db->escape($banner_image['title']) . "', description = '" .  $this->db->escape($banner_image['description']) . "', link = '" .  $this->db->escape($banner_image['link']) . "', image = '" .  $this->db->escape($banner_image['image']) . "', sort_order = '" .  (int)$banner_image['sort_order'] . "'");
      ]]></add>
</operation>
<operation>
      <search><![CDATA[
					$this->db->query("INSERT INTO " . DB_PREFIX . "banner_image SET banner_id = '" . (int)$banner_id . "', language_id = '" . (int)$language_id . "', title = '" .  $this->db->escape($banner_image['title']) . "', link = '" .  $this->db->escape($banner_image['link']) . "', image = '" .  $this->db->escape($banner_image['image']) . "', sort_order = '" . (int)$banner_image['sort_order'] . "'");
      ]]></search>
      <add position="replace"><![CDATA[
				    $this->db->query("INSERT INTO " . DB_PREFIX . "banner_image SET banner_id = '" . (int)$banner_id . "', language_id = '" . (int)$language_id . "', title = '" .  $this->db->escape($banner_image['title']) . "', description = '" .  $this->db->escape($banner_image['description']) . "', link = '" .  $this->db->escape($banner_image['link']) . "', image = '" .  $this->db->escape($banner_image['image']) . "', sort_order = '" . (int)$banner_image['sort_order'] . "'");
      ]]></add>
</operation>
<operation>
      <search><![CDATA[
					'link'       => $banner_image['link'],
      ]]></search>
      <add position="after"><![CDATA[
				    'description'       => $banner_image['description'],
      ]]></add>
</operation>
</file>
</modification>